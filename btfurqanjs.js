/* created by furqan*/
var swiper=new Swiper(".mySwiper",{threshold:3,speed:200,direction:"vertical"});function animateInput(e,t,r,s){var n=e.innerText;e.innerText="";for(var i=r/t.length,l=0,o=0;o<t.length;o++)setTimeout(function(t){e.innerText+=t},l,t.charAt(o)),l+=i;return new Promise(function(t,i){setTimeout(function(){s&&(e.innerText=n),e.disabled=!1,t()},r)})}(mySwiper=swiper).on("doubleTap",function(){var e=mySwiper.slides[mySwiper.activeIndex].querySelector(".likes_box i");e&&liked(e)}),mySwiper.on("slideChange",function(){var e=swiper.slides[swiper.activeIndex],t=e.querySelector("video");if("true"===e.getAttribute("data-ad")&&"false"===e.getAttribute("data-watched")){var r=5,s=e.querySelector(".swipe_in_text"),n=e.querySelector(".ad-swipe-in");if(t)t.readyState>=2?i():t.addEventListener("canplaythrough",i);else{swiper.allowSlideNext=!0,swiper.wrapperEl.classList.remove("swiper-no-swiping");return}function i(){s.innerText=r+"s";var l=setInterval(function(){r--,s.innerText=r+"s",r<=0&&(clearInterval(l),e.setAttribute("data-watched","true"),swiper.allowSlideNext=!0,swiper.wrapperEl.classList.remove("swiper-no-swiping"),n.remove(),s.remove())},1e3);t.removeEventListener("canplaythrough",i)}swiper.allowSlideNext=!1,swiper.wrapperEl.classList.add("swiper-no-swiping")}else swiper.allowSlideNext=!0,swiper.wrapperEl.classList.remove("swiper-no-swiping");var e=mySwiper.slides[mySwiper.activeIndex],l=e.querySelector("video");l&&l&&(l.currentTime=0,l.play());var o=mySwiper.slides[mySwiper.activeIndex+1],c=o?o.querySelector("video"):null;c&&(c.preload="auto");var d=mySwiper.slides[mySwiper.previousIndex],p=d?d.querySelector("video"):null;p&&p.pause();var u=swiper.slides.length-2;if(swiper.activeIndex>=u){l_m.innerHTML='Loading More...   <div class="content_loader"></div>';var w=[];fetch("https://random-data-api.com/api/users/random_user?size=5").then(e=>e.json()).then(e=>{w=e.map((e,t)=>{let r=getRandomElement(),s=extractVideoUrl(r);return{name:`${e.first_name} ${e.last_name}`,profile_avatar:getRandomUrl(e.avatar),src:r,text:s,likes:`${Math.floor(50*Math.random())+50}k`,comments:`${Math.floor(50*Math.random())}k`}});var t=[];for(y=0;y<w.length;y++){var r=document.createDocumentFragment(),s=getAd(),n=new Element({parent:r,element:"div",attributes:{class:"swiper-slide","data-ad":s.ad,"data-watched":s.watched}}).create(),i=new Element({parent:n,element:"div",attributes:{class:"video_inside"}}).create();new Element({parent:i,element:"video",attributes:{loop:"",onclick:"this.play()",src:w[y].src,preload:"none",ontimeupdate:"updateProgress(this)"}}).create();var l=new Element({parent:n,element:"div",attributes:{class:"left_side_info"}}).create(),o=new Element({parent:l,element:"div",attributes:{class:"picture"}}).create();new Element({parent:o,element:"img",attributes:{class:"profile_img",src:w[y].profile_avatar}}).create();var c=new Element({parent:l,element:"div",attributes:{class:"data"}}).create(),d=new Element({parent:c,element:"div",attributes:{class:"follow_plus_ifad"}}).create();new Element({parent:d,element:"div",attributes:{class:"follow same_color  shadows"},text:"follow"}).create(),s.ad&&(new Element({parent:d,element:"div",attributes:{class:"ad"},text:"ad"}).create(),new Element({parent:d,element:"div",attributes:{class:"ad-swipe-in ellipse"},text:"Swipe in"}).create(),new Element({parent:d,element:"span",attributes:{class:"swipe_in_text"},text:"5s"}).create());var p=new Element({parent:c,element:"div",attributes:{class:"publisher_plus_verified"}}).create();new Element({parent:p,element:"div",attributes:{class:"publisher same_color shadows ellipse"},text:randomName()}).create(),new Element({parent:p,element:"div",attributes:{class:"verified"}}).create(),new Element({parent:c,element:"div",attributes:{class:"title same_color shadows ellipse"},text:w[y].text}).create();var u=new Element({parent:n,element:"div",attributes:{class:"right_side_info"}}).create(),v=new Element({parent:u,element:"div",attributes:{class:"likes_box shadows"}}).create();new Element({parent:v,element:"i",attributes:{class:"white far fa-heart custom-icon-size shadow_new",onclick:"liked(this)"}}).create(),new Element({parent:v,element:"div",attributes:{class:"likes_text_count shadow_new"},text:w[y].likes}).create();var m=new Element({parent:u,element:"div",attributes:{class:"shadows comments_box",onclick:"toggleDialogVisibility(dialog)"}}).create();new Element({parent:m,element:"i",attributes:{class:"far fa-comment-dots custom-icon-size shadow_new"}}).create(),new Element({parent:m,element:"div",attributes:{class:"comments_text_count shadow_new"},text:w[y].comments}).create();var b=new Element({parent:u,element:"div",attributes:{class:"shadows shares_box"}}).create();new Element({parent:b,element:"i",attributes:{class:"far fa-share-square custom-icon-size shadow_new"}}).create();var h=new Element({parent:u,element:"div",attributes:{class:"shadows report_box"}}).create();new Element({parent:h,element:"i",attributes:{class:"fas fa-ellipsis-v custom-icon-size opacity-less shadow_new"}}).create();var g=new Element({parent:n,element:"div",attributes:{class:"Shorts_progressBarContainer"}}).create();new Element({parent:g,element:"div",attributes:{class:"Shorts_progressBar"}}).create(),t.push(n.outerHTML)}swiper.appendSlide(t),t=[],l_m.innerHTML="";for(var f=mySwiper.slides[mySwiper.activeIndex].querySelector("video"),x=document.getElementsByTagName("video"),y=0,S=x.length;y<S;y++)x[y]!==f&&x[y].pause();f&&(f.currentTime=0,f.play())}).catch(e=>console.error(e))}var v=Array.from(document.querySelectorAll(".swiper-slide:not(.swiper-slide-duplicate)")).slice(0,mySwiper.previousIndex);if(v.length>4)for(var m=v.length-4,b=0;b<m;b++)v[b].classList.contains("removed_slide")||(v[b].innerHTML='<span style="color:white;font-weight:400;">Removed for smooth experience<br><small>You can find it in history</small></span>',v[b].classList.add("removed_slide"))});const a=document.querySelector(".about-dialog__content a"),aboutBtn=document.getElementById("to_open_the_about_box"),aboutDialog=document.querySelector(".about-dialog"),closeBtn=document.querySelector(".dialog__close"),dialogContent=document.querySelector(".about-dialog__content");aboutBtn.addEventListener("click",()=>{aboutDialog.style.display="flex",a.style.borderColor="yellow",animateInput(a,"furqanelahie",1e3,!1).then(function(){a.style.animation="none",a.style.borderColor="transparent"})}),closeBtn.addEventListener("click",()=>{aboutDialog.style.display="none"}),dialogContent.addEventListener("click",e=>{e.stopPropagation()}),aboutDialog.addEventListener("click",()=>{aboutDialog.style.display="none"});const popupBtn=document.getElementById("dialog__about-btn"),closeBtn2x=document.querySelector(".drop_top_down-closeme"),container=document.querySelector(".drop_top_down-container");closeBtn2x.addEventListener("click",()=>{container.classList.toggle("show")}),popupBtn.addEventListener("click",()=>{container.classList.toggle("show")}),alert("Scroll \n Created by furqan elahie ");